# SOx 배출량 예측 및 최적 석회석 사용량 결정

이 프로젝트는 산업통상자원부의 공공 데이터를 활용하여 발전소의 SOx 배출량을 예측하고, SOx 배출량을 줄이기 위한 최적의 석회석 사용량을 결정합니다. 데이터는 발전소에서 측정된 다양한 발전량 및 배출량 데이터를 포함하고 있습니다.

## 목차
- [탐색적 자료 분석](#탐색적-자료-분석)
- [데이터 전처리](#데이터-전처리)
- [모델 학습](#모델-학습)
- [최적 석회석 사용량 결정 알고리즘](#최적-석회석-사용량-결정-알고리즘)
- [결과](#결과)
- [사용법](#사용법)


## 탐색적 자료 분석

### 변수 간 관계 분석

1. **석회석 사용량과 SOx 배출량**
   - 석회석 사용량과 SOx 배출량 간에는 특별한 상관관계가 발견되지 않았습니다.

2. **내부 SOx, 석회석 사용량, 발전량이 배출 SOx 예측에 미치는 영향**
   - 배출 SOx 예측에 가장 큰 영향을 미치는 변수는 석회석 사용량이 아닌 내부 SOx입니다.

3. **SOx 차이 (SoxDiff) 정의**
   - SOx 차이 (SoxDiff)는 내부 SOx와 배출 SOx의 차이로 정의됩니다.

5. **석회석 사용량과 제거된 SOx 양의 관계**
   - 석회석 사용량과 SoxDiff 간에는 양의 상관관계가 뚜렷하게 존재합니다. 따라서 석회석 예측 모델에 SoxDiff를 포함시키는 것이 효과적입니다.

## 데이터 전처리

- NaN 값을 평균값으로 대체합니다.
- SoxDiff 값이 음수인 행은 오류로 처리하고 제거합니다.

## 모델 학습

- 전력량, 석회석 사용량, 내부 SOx를 사용하여 SoxDiff를 예측하는 모델을 형성합니다.
- 모델 학습에는 데이터의 정규성을 고려하여 앙상블 모델인 GDB 회귀를 사용하였습니다.
- 결정계수는 `0.97`로, SoxDiff를 높은 정확도로 예측할 수 있음을 확인하였습니다.

## 최적 석회석 사용량 결정 알고리즘

SOx 배출량을 줄이기 위한 배연탈황 공정에서 생성물인 **석고의 순도**를 높이고 출구 SOx를 배출 기준에 맞추기 위해 **최적의 석회석** 사용량을 찾습니다. 이때 `SoxDiff`가 최대일 때 **공정 효율이 좋고 석고의 순도도 높다고 판단합니다**.

- 석회석 사용량이 증가함에 따라 SoxDiff가 계속 증가할 수 있으며, 과잉 사용될 경우 석고의 순도가 감소할 수 있습니다.
- 따라서 석회석 사용량의 증가에 따라 SoxDiff의 증가폭이 줄어들면 석회석의 추가 사용을 중지하고, 이전 값을 최적의 석회석 사용량으로 결정합니다.

## 결과

다음은 입구 SOx 값에 따른 최적 석회석 사용량과 SOx 절감 정도입니다:

- **입구 SOx가 120인 경우**
  - 최적 석회석 사용량: 약 `4.69`
  - SOx 절감 정도: 약 `138.9`

- **입구 SOx가 160인 경우**
  - 최적 석회석 사용량: 약 `6.74`
  - SOx 절감 정도: 약 `157`

- **입구 SOx가 210인 경우**
  - 최적 석회석 사용량: 약 `8.13`
  - SOx 절감 정도: 약 `207`

## 사용법

1. **모델 실행 방법**
   - 사용자로부터 `내부 SOx` 값을 입력받습니다.
   - 전력량은 평균값을 사용합니다.
   - 석회석의 초기값은 해당 구간에서 평균보다 약간 작은 값을 사용합니다.
   - 석회석을 `0.1`씩 증가시키면서 `SoxDiff`를 예측합니다.
   - SoxDiff의 증가폭이 `0.01` 이하로 `3`회 연속 나타나면, 해당 석회석 값이 최적값으로 결정됩니다.

2. **함수 사용 예시**
   - 제공된 함수를 통해 입력값에 따라 최적의 석회석 사용량과 SOx 절감 정도를 계산할 수 있습니다.


